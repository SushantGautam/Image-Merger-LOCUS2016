<html>

<h3> Image Merger -Locus 2016 <h3>


    <body>

    <script type="text/javascript">
var def= "https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/14051_1792321270993337_940333441973894940_n.jpg?oh=5386ee10f4a0632ec89396226dadddb8&oe=57EF8B6D"
merge();





function merge(){
	var abc = document.getElementById('input1').value;
after(abc,'https://www.googledrive.com/host/0B6XA6oTpuo9tT0VudmR4ajc4cnc');
    var abcS = new Image();

    abcS.src = abc;

      var widthC = parseInt(abcS.width);
      var heightC = parseInt(abcS.height);

      canvas.height=heightC;
      canvas.width=widthC;

}

</script>


<button type="button" onclick="merge();"> Submit</button>   <button type="button" onclick="window.location.reload();"> Reload </button><br>
<input type="text" id="input1" VALUE="https://scontent-hkg3-1.xx.fbcdn.net/v/t1.0-9/14051_1792321270993337_940333441973894940_n.jpg?oh=5386ee10f4a0632ec89396226dadddb8&oe=57EF8B6D" /><br>
    <canvas id="canvas"></canvas>




 </script>

    </body>



</html>

<script >
	function after(abc,  def){
    var canvas = document.getElementById("canvas");
var ctx = canvas.getContext("2d");

var imga = loadImage(abc, mainI);
var img2 = loadImage(def, mainI);
var imagesLoaded = 0;

function mainI() {
    imagesLoaded += 1;

    if(imagesLoaded == 2) {
        // composite now


        ctx.drawImage(imga, 0, 0);
        
        ctx.globalAlpha = 0.5;
        ctx.drawImage(img2, 0, 0);

        
    }
}

function loadImage(src, onload) {
    // http://www.thefutureoftheweb.com/blog/image-onload-isnt-being-called
    var img = new Image();
    
    img.onload = onload;
    img.src = src;
    img.style.width = '200px';

    return img;
}

};

</script>

